(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){e.exports=t(67)},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(30),l=t.n(r),c=(t(39),t(15)),i=t(6),s=(t(40),t(31)),u=t(8),m=t(9),v=t(11),h=t(10),d=t(12);function f(e){var a=e.fluid,t=e.children;return o.a.createElement("div",{className:"container".concat(a?"-fluid":"")},t)}function g(e){var a=e.fluid,t=e.children;return o.a.createElement("div",{className:"row".concat(a?"-fluid":"")},t)}function p(e){var a=e.size,t=e.children;return o.a.createElement("div",{className:a.split(" ").map(function(e){return"col-"+e}).join(" ")},t)}t(41);var b=function(){return o.a.createElement("div",{className:"jumbotron text-center"},o.a.createElement("h1",null,"Google Books React Search"),o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://books.google.com/"}))};t(42);var E=function(e){return o.a.createElement("div",null,o.a.createElement("form",{className:"book-search"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"search-field"},"Search"),o.a.createElement("input",{onChange:e.onChange,name:e.name,value:e.value,type:"search",className:"form-control",id:"search-field","aria-describedby":"emailHelp",placeholder:"Enter title, author, etc."})),o.a.createElement("button",{onClick:e.onClick,type:"submit",className:"btn btn-primary"},"Search")))};t(43);var k=function(e){var a=e.googleId,t=e.title,n=e.author,r=e.description,l=e.image,c=e.link,i=e.buttonIcon,s=e.saveBook;return o.a.createElement("div",{className:"book-result"},o.a.createElement("h2",{className:"title"},t),o.a.createElement("p",{className:"author"},n),o.a.createElement("img",{className:"image",src:l,alt:"cover art"}),o.a.createElement("p",{className:"description"},r),o.a.createElement("div",{className:"btn-panel"},o.a.createElement("a",{className:"link btn btn-primary",href:c,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("i",{className:"fas fa-eye"})),o.a.createElement("div",{className:"save-btn btn btn-primary",onClick:function(){return s(a,t,n,r,l,c)}},o.a.createElement("i",{className:i}))))},N=t(14),w=(t(44),function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(v.a)(this,Object(h.a)(a).call(this,e))).toggleNavbar=t.toggleNavbar.bind(Object(N.a)(Object(N.a)(t))),t.state={collapsed:!0},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var e=this.state.collapsed,a=e?"collapse navbar-collapse":"collapse navbar-collapse show",t=e?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark transparent-nav"},o.a.createElement("div",{className:"container"},o.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),o.a.createElement("button",{onClick:this.toggleNavbar,className:"".concat(t),type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"".concat(a),id:"navbarResponsive"},o.a.createElement("ul",{className:"navbar-nav ml-auto"},o.a.createElement("li",{className:"search"===this.props.activePage?"nav-item active":"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/search"},"Books Search")),o.a.createElement("li",{className:"saved"===this.props.activePage?"nav-item active":"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/saved"},"Books Saved"))))))}}]),a}(n.Component)),B=t(16),j=t.n(B),O={searchBooks:function(e){return j.a.get("/api/search",{params:{q:e}})},getBooks:function(){return j.a.get("/api/books")},deleteBook:function(e){return j.a.delete("/api/books/"+e)},saveBook:function(e){return j.a.post("/api/books",e)}},y=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],bookSearch:"",searchMessage:""},t.handleInputChange=function(e){var a=e.target,n=a.name,o=a.value;t.setState(Object(s.a)({},n,o))},t.handleFormSubmit=function(e){e.preventDefault(),O.searchBooks(t.state.bookSearch).then(function(e){t.setState({books:e.data,searchMessage:0===e.data.length?"No results.":e.data.length+" results:"})}).catch(function(e){t.setState({searchMessage:"No results."}),console.log(e)})},t.handleSaveButton=function(e,a,t,n,o,r){O.saveBook({googleId:e,title:a,authors:t,description:n,image:o,link:r}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(w,{activePage:"search"}),o.a.createElement(b,null),o.a.createElement(f,null,o.a.createElement(g,null,o.a.createElement(p,{size:"md-12"},o.a.createElement(E,{name:"bookSearch",value:this.state.bookSearch,onChange:this.handleInputChange,onClick:this.handleFormSubmit})))),o.a.createElement(f,null,o.a.createElement(g,null,o.a.createElement(p,{size:"md-12"},o.a.createElement("h1",null,this.state.searchMessage),0===this.state.books.length?"":this.state.books.map(function(a){return o.a.createElement(k,{key:a.id,title:a.volumeInfo.title,author:void 0!==a.volumeInfo.authors?a.volumeInfo.authors.join(", "):"No author given",description:a.volumeInfo.description,image:void 0!==a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.smallThumbnail:"https://via.placeholder.com/100x150?text=COVER+NOT+AVALABLE",link:a.volumeInfo.infoLink,buttonIcon:"fas fa-bookmark",saveBook:function(t){return e.handleSaveButton(a.id,a.volumeInfo.title,void 0!==a.volumeInfo.authors?a.volumeInfo.authors:["No author given"],a.volumeInfo.description,void 0!==a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.smallThumbnail:"https://via.placeholder.com/100x150?text=COVER+NOT+AVALABLE",a.volumeInfo.infoLink)}})})))))}}]),a}(n.Component),I=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(v.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={books:[]},t.loadBooks=function(){O.getBooks().then(function(e){return t.setState({books:e.data})}).catch(function(e){return console.log(e)})},t.deleteBook=function(e){O.deleteBook(e).then(function(e){return t.loadBooks()}).catch(function(e){return console.log(e)})},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(w,{activePage:"saved"}),o.a.createElement(b,null),o.a.createElement(f,null,o.a.createElement(g,null,o.a.createElement(p,{size:"md-12"},o.a.createElement("h1",null,"Saved Books"),this.state.books.map(function(a){return o.a.createElement(k,{key:a._id,title:a.title,author:void 0!==a.authors?a.authors.join(", "):"No author given",description:a.description,image:void 0!==a.image?a.image:"https://via.placeholder.com/100x150?text=COVER+NOT+AVALABLE",link:a.link,buttonIcon:"fas fa-trash-alt",saveBook:function(){return e.deleteBook(a._id)}})})))))}}]),a}(n.Component);var S=function(){return o.a.createElement(f,{fluid:!0},o.a.createElement(g,null,o.a.createElement(p,{size:"md-12"},o.a.createElement(b,null,o.a.createElement("h1",null,"404 Page Not Found"),o.a.createElement("h1",null,o.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var C=function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:y}),o.a.createElement(i.a,{exact:!0,path:"/search",component:y}),o.a.createElement(i.a,{exact:!0,path:"/saved",component:I}),o.a.createElement(i.a,{component:S}))))},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(C,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");x?function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):L(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):L(e)})}}()}},[[34,1,2]]]);
//# sourceMappingURL=main.1a4e621d.chunk.js.map